{% extends 'adminbase.html' %}

{% block content %}
<br>
<br>
<h3>Users Details</h3><br>
    <center>
        <input type="text" id="searchtxt" placeholder="Search Records By Name.." onkeyup="searchrecords();"/>
    </center>
    <br>
<table class="table table-hover table-bordered" id="table1" style="font-size:68%;">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">UserID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Username</th>
      <th scope="col">Password</th>
      <th scope="col">Email</th>
      <th scope="col">Contact</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for x in usr %}       <!-- for (variable) in dictionary(key) which is in views.py/details/-->
    <tr>
        <td>{{x.id}}</td>
        <td>{{x.userID}}</td>
        <td>{{x.firstname}}</td>
        <td>{{x.lastname}}</td>
        <td>{{x.username}}</td>
        <td>{{x.password}}</td>
        <td>{{x.email}}</td>
        <td>{{x.contact}}</td>
        <td>
            <a href="/adminapp/edit/{{x.id}}"><span class="glyphicon glyphicon-pencil">Edit</span></a>
            &nbsp;
            <a href="/delete/{{x.id}}"><span class=" glyphicon glyphicon-trash" onclick="return confirm('Are you sure you want to delete this item?');">Delete</span></a>
        </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<script>
    function searchrecords()
        {
            var input,table,tr,td,filter,i,txtdata;
            input=document.getElementById("searchtxt");
            filter=input.value.toUpperCase();
            table=document.getElementById("table1");
            tr=table.getElementsByTagName("tr");
            for(i=0;i<tr.length;i++)
            {
                td=tr[i].getElementsByTagName("td")[2];
                if(td)
                {
                    txtdata = td.innerText;
                    if(txtdata.toUpperCase().indexOf(filter)>-1)
                    {
                        tr[i].style.display="";
                    }
                    else
                    {
                        tr[i].style.display="none";
                    }
                }
            }
        }
</script>
{% endblock %}