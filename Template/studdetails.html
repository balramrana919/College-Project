{% extends 'studentdash.html' %}
{% load static %}

{% block content %}

<h1>Students Details</h1><br>
<center>
    <input type="text" id="searchtxt" placeholder="Search Records By Name.." onkeyup="searchrecords();"/>
</center>
<br>
<table class="table table-hover table-bordered " id="table1" style="font-size:80%;">
    <tr>
        <th scope="col">ID</th>
      <th scope="col">Student ID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
<!--      <th scope="col">Date Of Admission</th>-->
      <th scope="col">regNo</th>
      <th scope="col">PerAddress</th>
<!--      <th scope="col">TempAddress</th>-->
      <th scope="col">Gender</th>
      <th scope="col">Contact</th>
<!--      <th scope="col">ParentCont</th>-->
      <th scope="col">Email</th>
<!--      <th scope="col">FatherName</th>-->
<!--      <th scope="col">GrandfatherName</th>-->
<!--      <th scope="col">ProfileImg</th>-->
    </tr>

  {% for x in studentss %}       <!-- for (variable) in dictionary(key) which is in views.py/studdetails/-->
    <tr data-href-template="#">
        <td>{{x.id}}</td>
        <td>{{x.studentID}}</td>
        <td>{{x.FirstName}}</td>
        <td>{{x.LastName}}</td>
<!--        <td>{{x.DateOfAdmission}}</td>-->
        <td>{{x.regNo}}</td>
        <td>{{x.perAddress}}</td>
<!--        <td>{{x.tempAddress}}</td>-->
        <td>{{x.gender}}</td>
        <td>{{x.contact}}</td>
<!--        <td>{{x.ParentCont}}</td>-->
        <td>{{x.email}}</td>
<!--        <td>{{x.FatherName}}</td>-->
<!--        <td>{{x.GrandFatherName}}</td>-->
<!--        <td>-->
<!--            {% if x.profileImg %}-->
<!--            <img src={{x.profileImg.url}}/>-->
<!--            {% endif %}-->
<!--        </td>-->
        <td>
            <a href="/studprofile/{{x.id}}" target="_blank"><span class="glyphicon glyphicon-user">Profile</span></a>&nbsp;
<!--            <a href="/editstud/{{x.id}}"><span class="glyphicon glyphicon-pencil">Edit</span></a>&nbsp;-->
<!--            <a href="/deletestud/{{x.id}}"><span class=" glyphicon glyphicon-trash" onclick="return confirm('Are you sure you want to delete this item?');">Delete</span></a>-->
        </td>
    </tr>
  {% endfor %}
</table>
<br>
<br>

<script>
    function searchrecords()
        {
            var input,table,tr,td,filter,i,txtdata;
            input=document.getElementById("searchtxt");
            filter=input.value.toUpperCase();
            table=document.getElementById("table1");
            tr=table.getElementsByTagName("tr");
            for(i=0;i<tr.length;i++)
            {
                td=tr[i].getElementsByTagName("td")[1];
                if(td)
                {
                    txtdata = td.innerText;
                    if(txtdata.toUpperCase().indexOf(filter)>-1)
                    {
                        tr[i].style.display="";
                    }
                    else
                    {
                        tr[i].style.display="none";
                    }
                }
            }
        }
</script>
{% endblock %}
